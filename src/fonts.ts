const f = (s: string[]) => s;
export const BLOCK_FONT: Record<string, string[]> = {
  A: f([" █████╗ ", "██╔══██╗", "███████║", "██╔══██║", "██║  ██║", "╚═╝  ╚═╝"]),
  B: f(["██████╗ ", "██╔══██╗", "██████╔╝", "██╔══██╗", "██████╔╝", "╚═════╝ "]),
  C: f([" ██████╗", "██╔════╝", "██║     ", "██║     ", "╚██████╗", " ╚═════╝"]),
  D: f(["██████╗ ", "██╔══██╗", "██║  ██║", "██║  ██║", "██████╔╝", "╚═════╝ "]),
  E: f(["███████╗", "██╔════╝", "█████╗  ", "██╔══╝  ", "███████╗", "╚══════╝"]),
  F: f(["███████╗", "██╔════╝", "█████╗  ", "██╔══╝  ", "██║     ", "╚═╝     "]),
  G: f([" ██████╗ ", "██╔════╝ ", "██║  ███╗", "██║   ██║", "╚██████╔╝", " ╚═════╝ "]),
  H: f(["██╗  ██╗", "██║  ██║", "███████║", "██╔══██║", "██║  ██║", "╚═╝  ╚═╝"]),
  I: f(["██╗", "██║", "██║", "██║", "██║", "╚═╝"]),
  J: f(["     ██╗", "     ██║", "     ██║", "██   ██║", "╚█████╔╝", " ╚════╝ "]),
  K: f(["██╗  ██╗", "██║ ██╔╝", "█████╔╝ ", "██╔═██╗ ", "██║  ██╗", "╚═╝  ╚═╝"]),
  L: f(["██╗     ", "██║     ", "██║     ", "██║     ", "███████╗", "╚══════╝"]),
  M: f(["███╗   ███╗", "████╗ ████║", "██╔████╔██║", "██║╚██╔╝██║", "██║ ╚═╝ ██║", "╚═╝     ╚═╝"]),
  N: f(["███╗   ██╗", "████╗  ██║", "██╔██╗ ██║", "██║╚██╗██║", "██║ ╚████║", "╚═╝  ╚═══╝"]),
  O: f([" ██████╗ ", "██╔═══██╗", "██║   ██║", "██║   ██║", "╚██████╔╝", " ╚═════╝ "]),
  P: f(["██████╗ ", "██╔══██╗", "██████╔╝", "██╔═══╝ ", "██║     ", "╚═╝     "]),
  Q: f([" ██████╗ ", "██╔═══██╗", "██║   ██║", "██║▄▄ ██║", "╚██████╔╝", " ╚══▀▀═╝ "]),
  R: f(["██████╗ ", "██╔══██╗", "██████╔╝", "██╔══██╗", "██║  ██║", "╚═╝  ╚═╝"]),
  S: f(["███████╗", "██╔════╝", "███████╗", "╚════██║", "███████║", "╚══════╝"]),
  T: f(["████████╗", "╚══██╔══╝", "   ██║   ", "   ██║   ", "   ██║   ", "   ╚═╝   "]),
  U: f(["██╗   ██╗", "██║   ██║", "██║   ██║", "██║   ██║", "╚██████╔╝", " ╚═════╝ "]),
  V: f(["██╗   ██╗", "██║   ██║", "██║   ██║", "╚██╗ ██╔╝", " ╚████╔╝ ", "  ╚═══╝  "]),
  W: f(["██╗    ██╗", "██║    ██║", "██║ █╗ ██║", "██║███╗██║", "╚███╔███╔╝", " ╚══╝╚══╝ "]),
  X: f(["██╗  ██╗", "╚██╗██╔╝", " ╚███╔╝ ", " ██╔██╗ ", "██╔╝ ██╗", "╚═╝  ╚═╝"]),
  Y: f(["██╗   ██╗", "╚██╗ ██╔╝", " ╚████╔╝ ", "  ╚██╔╝  ", "   ██║   ", "   ╚═╝   "]),
  Z: f(["███████╗", "╚══███╔╝", "  ███╔╝ ", " ███╔╝  ", "███████╗", "╚══════╝"]),
  " ": f(["        ", "        ", "        ", "        ", "        ", "        "]),
  "!": f(["██╗", "██║", "██║", "╚═╝", "██╗", "╚═╝"]),
  "?": f(["██████╗ ", "╚════██╗", "  ▄███╔╝", "  ▀▀══╝ ", "  ██╗   ", "  ╚═╝   "]),
  ".": f(["   ", "   ", "   ", "   ", "██╗", "╚═╝"]),
  ",": f(["   ", "   ", "   ", "   ", "▄█╗", "╚═╝"]),
  "-": f(["      ", "      ", "█████╗", "╚════╝", "      ", "      "]),
  "0": f([" ██████╗ ", "██╔═████╗", "██║██╔██║", "████╔╝██║", "╚██████╔╝", " ╚═════╝ "]),
  "1": f([" ██╗", "███║", "╚██║", " ██║", " ██║", " ╚═╝"]),
  "2": f(["██████╗ ", "╚════██╗", " █████╔╝", "██╔═══╝ ", "███████╗", "╚══════╝"]),
  "3": f(["██████╗ ", "╚════██╗", " █████╔╝", " ╚═══██╗", "██████╔╝", "╚═════╝ "]),
  "4": f(["██╗  ██╗", "██║  ██║", "███████║", "╚════██║", "     ██║", "     ╚═╝"]),
  "5": f(["███████╗", "██╔════╝", "███████╗", "╚════██║", "███████║", "╚══════╝"]),
  "6": f([" ██████╗ ", "██╔════╝ ", "███████╗ ", "██╔═══██╗", "╚██████╔╝", " ╚═════╝ "]),
  "7": f(["███████╗", "╚════██║", "    ██╔╝", "   ██╔╝ ", "   ██║  ", "   ╚═╝  "]),
  "8": f([" █████╗ ", "██╔══██╗", "╚█████╔╝", "██╔══██╗", "╚█████╔╝", " ╚════╝ "]),
  "9": f([" █████╗ ", "██╔══██╗", "╚██████║", " ╚═══██║", " █████╔╝", " ╚════╝ "]),
};

export function textToAsciiArt(text: string): string {
  if (!text) return "\n\n\n\n\n";
  const textLines = text.split("\n");
  const spaceChar = BLOCK_FONT[" "];
  const allAsciiLines: string[][] = [];
  for (let lineIndex = 0; lineIndex < textLines.length; lineIndex++) {
    const textLine = textLines[lineIndex];
    if (!textLine) {
      for (let i = 0; i < 6; i++) allAsciiLines.push([]);
    } else {
      const upperText = textLine.toUpperCase();
      const lines: string[][] = [[], [], [], [], [], []];
      const charArts: string[][] = [];
      for (let charIndex = 0; charIndex < upperText.length; charIndex++) {
        const char = upperText[charIndex];
        const charArt = BLOCK_FONT[char || " "];
        charArts[charIndex] = charArt || spaceChar || ["", "", "", "", "", ""];
      }
      for (let i = 0; i < 6; i++) {
        for (let charIndex = 0; charIndex < charArts.length; charIndex++) {
          const charArt = charArts[charIndex];
          if (charArt) {
            const artLine = charArt[i];
            if (artLine) lines[i]?.push(artLine);
          }
        }
        const line = lines[i];
        if (line) allAsciiLines.push(line);
      }
    }
    if (lineIndex < textLines.length - 1) allAsciiLines.push([]);
  }
  return allAsciiLines.map((line) => line.join("")).join("\n");
}
